import pandas as pd
from textblob import TextBlob
import os
import re


# task 1 clean up
os.chdir("public")
print("rq1")
df = pd.read_csv("rq1data.csv")
exclude = [184, 234, 438, 1082, 2317, 2729, 3621, 4183, 5841, 6119, 6772, 6829, 7983, 8837, 10127, 12141, 12552, 13364,
           17285, 17487, 21759, 23372, 24100, 25711, 26423, 27692, 30451, 20459, 20464, 31237, 32103, 33606, 33789, 36123,
           16005, 34641, 36150, 13335, 26947, 9512, 21737, 21737, 36209]
print(len(df))
df = df[~df["idx"].isin(exclude)]
print(len(df))
df.to_csv("rq1data.csv")


print("rq2")
df = pd.read_csv("rq2data.csv")

excludeHappy = [
    13174, 12561, 11260, 11628, 12194, 12218, 9802, 9770, 9847, 9824, 16287,
    15497, 16993, 16519, 16092, 16099, 2560, 5593, 2242, 3042, 5192, 2321, 2997,
    5292, 14885, 15054, 8945, 1776, 1067, 1725, 8890, 8874, 1714, 1151,
    3627, 4567, 3540, 4548, 7293, 4863, 10834, 6855, 5921, 10774, 10870, 10103, 15030

]
excludeAngry = [
    14115, 14294, 13826, 13760, 13783, 14128, 9927, 14227, 13474, 8907, 8984, 1700, 8883, 1087,
    1142, 9062, 8867, 12270, 12061, 12541, 12972, 12098, 10710, 10767, 6976, 11067, 3278,
    5351, 3265, 3325, 5543, 2680, 17013, 16861, 16910, 17021, 17054, 17386, 17476, 17382, 7230,
    7276, 7317, 7837, 7492, 7285, 7954, 264, 43, 2045, 12520, 11761, 12644, 15178, 645, 322, 15043,


]
print(len(df))
df = df[~df["happy_img_idx"].isin(excludeHappy)]
df = df[~df["angry_img_idx"].isin(excludeAngry)]

print(len(df))
df.to_csv("rq2data.csv")
